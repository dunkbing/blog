<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta charSet="utf-8"/><meta name="description" content="I made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video."/><meta name="google-site-verification" content="EvBTnaMX5a54coVLUMXi9_87myajTYR_KF5j8T_Ag-E"/><title>Creating text2audio.cc with Deno and FreshJS</title><meta name="google" content="notranslate"/><link rel="canonical" href="https://dunkbing.github.io/posts/how-i-made-text2audio"/><meta property="og:url" content="https://dunkbing.github.io/posts/how-i-made-text2audio"/><meta property="og:type" content="article"/><meta property="og:image" content="https://dunkbing.github.ioundefined"/><meta property="og:title" content="Creating text2audio.cc with Deno and FreshJS"/><meta property="og:description" content="I made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video."/><meta property="og:site_name" content="Bùi Đặng Bình - Game Developer"/><meta property="article:author" content="https://www.facebook.com/dunkbingg"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@dunkbingg"/><meta name="twitter:creator" content="@dunkbingg"/><meta name="twitter:title" content="Creating text2audio.cc with Deno and FreshJS"/><meta name="twitter:description" content="I made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video."/><meta name="twitter:image" content="https://dunkbing.github.ioundefined"/><meta property="article:published_time" content="2023-10-31"/><meta property="article:modified_time" content="2023-10-31"/><meta name="next-head-count" content="22"/><link id="favicon" rel="shortcut icon" href="/favicon.ico"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5B9VRV78DN"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-5B9VRV78DN');</script><link rel="preload" href="/_next/static/css/c02030751bbec0f8.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/c02030751bbec0f8.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-7fc1776d837c1e10.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-a4b9f4216022cc2d.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-3aaf41d377b61d75.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-4bd7a15763fcd864.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/450-7a0bcf12b56a87a0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/379-c9154ed9c0ba4c09.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/608-567e07f607d6ecfb.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-542582ab46312d9b.js" defer="" crossorigin=""></script><script src="/_next/static/O22zU31Vpe_uMnyAMx3oy/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/O22zU31Vpe_uMnyAMx3oy/_ssgManifest.js" defer="" crossorigin=""></script></head><body class="bg-white dark:bg-black text-gray-900 dark:text-white"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if(e){c.add(e|| '')}else{c.add('dark');}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(t){}}();</script><header class="sticky top-0 z-50"><div class="max-w-4xl px-8 mx-auto header"><div class="flex items-center justify-between py-4"><nav class="font-bold text-xl font-mono text-gray-900 dark:text-gray-200 py-4"><a class="mr-5" href="/">Home</a><a class="px-6" href="/notes">Notes</a></nav></div></div></header><main><div class="max-w-4xl px-8 py-4 mx-auto"><article style="display:flex;flex-direction:column;align-items:center"><h1 class="mb-3 text-gray-900 dark:text-white">Creating text2audio.cc with Deno and FreshJS</h1><p class="mb-10 text-sm text-gray-500 dark:text-gray-400">Last updated: <!-- -->October 31, 2023</p><div class="prose dark:prose-dark" style="max-width:80%"><p>Hi everyone, welcome to my blog! Today I want to share with you how I made my website <a href="https://text2audio.cc">https://text2audio.cc</a> with FreshJS (a fullstack Deno framework) using Google text to speech API (it&#x27;s actually google translate API), and deploy it to Deno Deploy. This is its source code <a href="https://github.com/dunkbing/text2audio">https://github.com/dunkbing/text2audio</a>.</p>
<p>What is text2audio.cc?
Text2audio.cc is a simple website that lets you convert any text into audio using Google&#x27;s text to speech service. You can choose from different languages, voices, and speeds, and download the audio file as an mp3. You can also paste a URL and the website will automatically extract the text from the web page and convert it into audio.</p>
<p>Why did I make text2audio.cc?
I made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video.</p>
<p>How did I make text2audio.cc?
To make text2audio.cc, I used the following tools and technologies:</p>
<ul>
<li>Deno: Deno is a secure runtime for JavaScript and TypeScript that uses V8 and is built in Rust. It is similar to Node.js, but with some differences and improvements. For example, Deno supports TypeScript out of the box, has a built-in dependency manager, and has a standard library with many useful modules.</li>
<li>FreshJS: FreshJS is a web framework for deno (which looks like Next.js). It allows you to create server-side rendered pages using Preact components, and also supports static site generation and API routes. FreshJS has a simple and intuitive file-based routing system, and supports features like hot reloading, code splitting, and custom hooks.</li>
<li>Google text to speech API: Google text to speech API is a service that converts text into natural-sounding speech. It supports over 100 languages and dialects, and offers different voices and speaking rates. Google text to speech API is actually part of Google Translate API, which means you can use the same endpoint and parameters to access it.</li>
<li>Deno Deploy: Deno Deploy is a platform that lets you deploy your deno applications globally with low latency. It is similar to Cloudflare Workers, which means you can run your code on the edge of the network, closer to your users. Deno Deploy also provides features like custom domains, SSL certificates, logging, and metrics.</li>
</ul>
<p>The main steps I followed to make text2audio.cc are:</p>
<ul>
<li>Create a new FreshJS project using <code>deno run -A -r https://fresh.deno.dev</code> command.</li>
<li>The generated project already has necessary dependencies under the <code>imports</code> section in the <code>deno.json</code> file, such as <code>preact</code>, <code>@preact/signals</code>, <code>twind</code>, <code>tabler_icons_tsx</code>, and <code>deno_std</code>.</li>
<li>There is a <code>routes</code> folder and an <code>index.tsx</code> file for the home page. This file contains the Preact component that renders the UI for the website, such as the input fields, buttons, dropdowns, etc. It also contains some state variables and functions to handle user interactions, such as typing or pasting text, selecting language or voice, changing speed, etc.</li>
<li>Create an <code>audio.ts</code> file in the <code>api</code> folder for the API route. This file contains the logic for converting text into audio using Google text to speech API. It takes the text, language, voice, and speed as query parameters, and returns an mp3 file as the response.</li>
<li>Create a <code>utils</code> folder and add a <code>fetchText.ts</code> file for the utility function that fetches text from a URL. This function uses the <code>fetch</code> API from the <code>deno_std/http</code> module to make a GET request to the URL, and then parses the HTML response using the <code>DOMParser</code> class from the <code>deno_std/dom</code> module. It then extracts the text content from the <code>&lt;body&gt;</code> element using the <code>textContent</code> property, and returns it as a string.</li>
<li>For storing and serving the audio files, I use Cloudflare R2 (which is an S3 compatible storage service). It offers 10GB free storage, I also set a rule that will delete the stored objects after 1 day, so it won&#x27;t exceed my limits.</li>
<li>Test the website locally using <code>deno task start</code> command, which starts a development server with hot reloading.</li>
<li>Deploy the website to Deno Deploy by pushing the project to Github, and connect it to Deno Deploy, it will be deployed automatically (withou a build step). I also added a custom domain name and an SSL certificate for my website using Deno Deploy dashboard.</li>
</ul>
<p>And that&#x27;s it! That&#x27;s how I made my website <a href="https://text2audio.cc">https://text2audio.cc</a> with FreshJS (a deno framework) using Google text to speech api, and deploy it to Deno Deploy. This is its source code <a href="https://github.com/dunkbing/text2audio">https://github.com/dunkbing/text2audio</a>.</p>
<p>I hope you enjoyed this blog post and learned something new. If you have any questions or feedback, feel free to leave a comment below or contact me on Twitter. Thanks for reading!</p></div></article></div></main><footer class="py-8"><div class="max-w-4xl px-8 mx-auto">Built by<!-- --> <a class="font-bold text-gray-900 dark:text-white" target="_blank" href="https://github.com/dunkbing">dunkbing</a> -<a class="font-bold text-gray-900 dark:text-white underline ml-1" target="_blank" href="https://github.com/dunkbing/dunkbing.github.io">View source</a></div></footer></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Hi everyone, welcome to my blog! Today I want to share with you how I made my website \", _jsx(_components.a, {\n        href: \"https://text2audio.cc\",\n        children: \"https://text2audio.cc\"\n      }), \" with FreshJS (a fullstack Deno framework) using Google text to speech API (it's actually google translate API), and deploy it to Deno Deploy. This is its source code \", _jsx(_components.a, {\n        href: \"https://github.com/dunkbing/text2audio\",\n        children: \"https://github.com/dunkbing/text2audio\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"What is text2audio.cc?\\nText2audio.cc is a simple website that lets you convert any text into audio using Google's text to speech service. You can choose from different languages, voices, and speeds, and download the audio file as an mp3. You can also paste a URL and the website will automatically extract the text from the web page and convert it into audio.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Why did I make text2audio.cc?\\nI made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"How did I make text2audio.cc?\\nTo make text2audio.cc, I used the following tools and technologies:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Deno: Deno is a secure runtime for JavaScript and TypeScript that uses V8 and is built in Rust. It is similar to Node.js, but with some differences and improvements. For example, Deno supports TypeScript out of the box, has a built-in dependency manager, and has a standard library with many useful modules.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"FreshJS: FreshJS is a web framework for deno (which looks like Next.js). It allows you to create server-side rendered pages using Preact components, and also supports static site generation and API routes. FreshJS has a simple and intuitive file-based routing system, and supports features like hot reloading, code splitting, and custom hooks.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Google text to speech API: Google text to speech API is a service that converts text into natural-sounding speech. It supports over 100 languages and dialects, and offers different voices and speaking rates. Google text to speech API is actually part of Google Translate API, which means you can use the same endpoint and parameters to access it.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Deno Deploy: Deno Deploy is a platform that lets you deploy your deno applications globally with low latency. It is similar to Cloudflare Workers, which means you can run your code on the edge of the network, closer to your users. Deno Deploy also provides features like custom domains, SSL certificates, logging, and metrics.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The main steps I followed to make text2audio.cc are:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Create a new FreshJS project using \", _jsx(_components.code, {\n          children: \"deno run -A -r https://fresh.deno.dev\"\n        }), \" command.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"The generated project already has necessary dependencies under the \", _jsx(_components.code, {\n          children: \"imports\"\n        }), \" section in the \", _jsx(_components.code, {\n          children: \"deno.json\"\n        }), \" file, such as \", _jsx(_components.code, {\n          children: \"preact\"\n        }), \", \", _jsx(_components.code, {\n          children: \"@preact/signals\"\n        }), \", \", _jsx(_components.code, {\n          children: \"twind\"\n        }), \", \", _jsx(_components.code, {\n          children: \"tabler_icons_tsx\"\n        }), \", and \", _jsx(_components.code, {\n          children: \"deno_std\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"There is a \", _jsx(_components.code, {\n          children: \"routes\"\n        }), \" folder and an \", _jsx(_components.code, {\n          children: \"index.tsx\"\n        }), \" file for the home page. This file contains the Preact component that renders the UI for the website, such as the input fields, buttons, dropdowns, etc. It also contains some state variables and functions to handle user interactions, such as typing or pasting text, selecting language or voice, changing speed, etc.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Create an \", _jsx(_components.code, {\n          children: \"audio.ts\"\n        }), \" file in the \", _jsx(_components.code, {\n          children: \"api\"\n        }), \" folder for the API route. This file contains the logic for converting text into audio using Google text to speech API. It takes the text, language, voice, and speed as query parameters, and returns an mp3 file as the response.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Create a \", _jsx(_components.code, {\n          children: \"utils\"\n        }), \" folder and add a \", _jsx(_components.code, {\n          children: \"fetchText.ts\"\n        }), \" file for the utility function that fetches text from a URL. This function uses the \", _jsx(_components.code, {\n          children: \"fetch\"\n        }), \" API from the \", _jsx(_components.code, {\n          children: \"deno_std/http\"\n        }), \" module to make a GET request to the URL, and then parses the HTML response using the \", _jsx(_components.code, {\n          children: \"DOMParser\"\n        }), \" class from the \", _jsx(_components.code, {\n          children: \"deno_std/dom\"\n        }), \" module. It then extracts the text content from the \", _jsx(_components.code, {\n          children: \"\u003cbody\u003e\"\n        }), \" element using the \", _jsx(_components.code, {\n          children: \"textContent\"\n        }), \" property, and returns it as a string.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"For storing and serving the audio files, I use Cloudflare R2 (which is an S3 compatible storage service). It offers 10GB free storage, I also set a rule that will delete the stored objects after 1 day, so it won't exceed my limits.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Test the website locally using \", _jsx(_components.code, {\n          children: \"deno task start\"\n        }), \" command, which starts a development server with hot reloading.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Deploy the website to Deno Deploy by pushing the project to Github, and connect it to Deno Deploy, it will be deployed automatically (withou a build step). I also added a custom domain name and an SSL certificate for my website using Deno Deploy dashboard.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"And that's it! That's how I made my website \", _jsx(_components.a, {\n        href: \"https://text2audio.cc\",\n        children: \"https://text2audio.cc\"\n      }), \" with FreshJS (a deno framework) using Google text to speech api, and deploy it to Deno Deploy. This is its source code \", _jsx(_components.a, {\n        href: \"https://github.com/dunkbing/text2audio\",\n        children: \"https://github.com/dunkbing/text2audio\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"I hope you enjoyed this blog post and learned something new. If you have any questions or feedback, feel free to leave a comment below or contact me on Twitter. Thanks for reading!\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"title":"Creating text2audio.cc with Deno and FreshJS","description":"I made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video.","publishedTime":"2023-10-31","modifiedTime":"2023-10-31"}},"frontMatter":{"title":"Creating text2audio.cc with Deno and FreshJS","description":"I made text2audio.cc as a personal project to learn more about Deno, FreshJS, and Google text to speech API. I also wanted to create a useful tool that could help generate audio for my TikTok video.","publishedTime":"2023-10-31","modifiedTime":"2023-10-31"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"how-i-made-text2audio"},"buildId":"O22zU31Vpe_uMnyAMx3oy","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>